webpackJsonp([4,68,69],{"4jnF":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={components:{},props:["table1Data","height"],data:function(){return{tableRadio:"",currentPage:1,pagesize:10,pagesizes:[2,5,10,20,50,100]}},computed:{total:{get:function(){return this.table1Data.length}}},watch:{table1Data:function(e,t){this.currentPage=1}},methods:{clickChange:function(e){this.tableRadio=e},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},deleteRow:function(e){var t=this;e?this.$confirm("确认加入采购计划?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){setTimeout(function(){t.$message({type:"success",message:"加入成功!"})},1e3)}).catch(function(){}):this.$message({message:"请选择行！",type:"warning"})}},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.table1Data.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),id:"table",stripe:"","header-row-style":{height:"35px"},"row-style":{height:"35px"},height:e.height},on:{"current-change":e.clickChange}},[a("el-table-column",{attrs:{prop:"UNIT_NAME",label:"地市",align:"center","min-width":"16%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"MARKET_NAME",label:"备件类别",align:"center","min-width":"16%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"TYPE_NAME",label:"当前库存数",align:"center","min-width":"16%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"CAPACITY",label:"下季度用量预测",align:"center","min-width":"18%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"START_TIME",label:"半年用量预测",align:"center","min-width":"18%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"STATUS",label:"状态",align:"center","min-width":"18%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"USER",label:"推荐厂商",align:"center","min-width":"18%"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"14%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"opr"},[a("div",{staticClass:"operate",on:{click:function(a){e.deleteRow(t.row)}}},[e._v("加入采购计划")])])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pagesizes,"page-size":e.pagesize,layout:" prev, pager, next, jumper, sizes,total",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var l=a("VU/8")(n,i,!1,function(e){a("LNLP")},"data-v-5abb5db3",null);t.default=l.exports},LNLP:function(e,t,a){var n=a("Wxj5");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("974abe16",n,!0)},SfSU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("fZjL"),i=a.n(n),l=a("4jnF"),r=a("e2Ge"),o={name:"unitManagement",components:{tableFirst:l.default,tableSecond:r.default},data:function(){return{form:{unitName:"",linkman:""},table1Data:[],searchTableData:[],table2Data:[],searchTableData2:[]}},created:function(){this.getData();var e=this;document.onkeydown=function(t){13==window.event.keyCode&&e.onSearch()}},mounted:function(){var e=this;setTimeout(function(){e.bar1()},0)},methods:{getData:function(){var e=this;this.$http({url:"static/json/sparePartManager/demandForecast.json",method:"get",data:{}}).then(function(t){var a=t.data.table1Data;e.table1Data=a,e.searchTableData=a,e.table2Data=t.data.table2Data,e.searchTableData2=t.data.table2Data})},onSearch:function(){this.searchTableData=this.tableRes(this.form.unitName,this.table1Data),this.searchTableData2=this.tableRes(this.form.unitName,this.table2Data)},tableRes:function(e,t,a){var n=e;return t.filter(function(e){return i()(e).some(function(t){return a?-1==a.indexOf(t)?String(e[t]).toLowerCase().indexOf(n)>-1:void 0:String(e[t]).toLowerCase().indexOf(n)>-1})})},resetForm:function(e){this.$refs[e].resetFields()},bar1:function(){var e={bqs:[95284.5,110640.25,88141.5,111738.25,27134.25,0,0,0,0,0],hbl:[15,17,20,27,75,100,100,100,100,100],sqs:[83108.5,95284.5,110640.25,88141.5,111738.25,27134.25,0,0,0,0],tbl:[248,98,66,53,63,100,100,100,100,100],tqs:[27425,55983.25,53158,73186,74439.75,86922.75,107109.25,102578.5,126522.25,123338.75]},t={color:["#3ba272","#91cc75"],title:{text:"近一年备件量变化走势",textStyle:{color:"#fff"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},borderWidth:1},grid:{left:"20px",right:"20px",top:"20%",bottom:"20px",containLabel:!0},xAxis:[{type:"category",boundaryGap:!0,data:["2020-10","2020-11","2020-12","2021-01","2021-02","2021-03","2021-04","2021-15","2021-16","2021-17"],axisLine:{lineStyle:{color:"#7e9fb6"}},axisLabel:{margin:10,color:"#7e9fb6",textStyle:{fontSize:14}}}],yAxis:[{type:"value",axisLabel:{color:"#7e9fb6"},axisLine:{show:!1,lineStyle:{color:"#7e9fb6"}},splitLine:{lineStyle:{color:"rgba(126,159,182,0.12)"}},axisTick:{show:!1}},{type:"value",axisLabel:{color:"#7e9fb6",formatter:"{value}%"},axisLine:{show:!1,lineStyle:{color:"#7e9fb6"}},splitLine:{lineStyle:{color:"rgba(126,159,182,0.12)"}},axisTick:{show:!1}}],series:[{type:"bar",name:"充电控制器",yAxisIndex:0,itemStyle:{color:"#15a193"},barWidth:16,data:e.bqs},{type:"bar",name:"液晶屏",yAxisIndex:0,itemStyle:{color:"#17d799"},barWidth:16,data:e.tqs},{name:"充电模块",yAxisIndex:1,type:"line",stack:"总量",smooth:!0,data:e.hbl,symbolSize:8}]},a=this.$echarts.init(this.$refs.bar);a.setOption(t,!0),window.addEventListener("resize",function(){a.resize()})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"demandForecast"},[a("div",{ref:"formDiv"},[a("el-form",{ref:"form",staticClass:"unitForm",attrs:{model:e.form,id:"form"}},[a("el-form-item",{attrs:{label:"地市:",prop:"unitName"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.unitName,callback:function(t){e.$set(e.form,"unitName",t)},expression:"form.unitName"}},[a("el-option",{attrs:{label:"南京",value:"南京"}}),e._v(" "),a("el-option",{attrs:{label:"无锡",value:"无锡"}}),e._v(" "),a("el-option",{attrs:{label:"苏州",value:"苏州"}}),e._v(" "),a("el-option",{attrs:{label:"淮安",value:"淮安"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备件类别:",prop:"linkman"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.linkman,callback:function(t){e.$set(e.form,"linkman",t)},expression:"form.linkman"}},[a("el-option",{attrs:{label:"充电控制器",value:"充电控制器"}}),e._v(" "),a("el-option",{attrs:{label:"液晶屏",value:"液晶屏"}}),e._v(" "),a("el-option",{attrs:{label:"充电模块",value:"充电模块"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.onSearch}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(t){e.resetForm("form")}}},[e._v("重置")])],1)],1)],1),e._v(" "),a("table-first",{attrs:{table1Data:e.searchTableData,height:"35vh"}}),e._v(" "),a("div",{staticClass:"echarts"},[a("div",{ref:"bar",staticClass:"bar",attrs:{id:"bar"}})]),e._v(" "),a("div",[a("h3",[e._v("采购计划")]),e._v(" "),a("table-second",{attrs:{table2Data:e.searchTableData2,height:"20vh"}})],1)],1)},staticRenderFns:[]};var c=a("VU/8")(o,s,!1,function(e){a("xDZV")},null,null);t.default=c.exports},Wxj5:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.opr[data-v-5abb5db3] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: space-evenly;\n      -ms-flex-pack: space-evenly;\n          justify-content: space-evenly;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.opr .operate[data-v-5abb5db3] {\n    color: #1ba799;\n    cursor: pointer;\n}\n",""])},e2Ge:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={components:{},props:["table2Data","height"],data:function(){return{tableRadio:"",currentPage:1,pagesize:10,pagesizes:[5,10,20,50,100]}},computed:{total:{get:function(){return this.table2Data.length}}},watch:{table2Data:function(e,t){this.currentPage=1}},methods:{clickChange:function(e){this.tableRadio=e},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},deleteRow:function(e){var t=this;e?this.$confirm("确认加入采购计划?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){setTimeout(function(){t.$message({type:"success",message:"加入成功!"})},1e3)}).catch(function(){}):this.$message({message:"请选择行！",type:"warning"})}},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.table2Data.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),id:"table",stripe:"","header-row-style":{height:"35px"},"row-style":{height:"35px"},height:e.height},on:{"current-change":e.clickChange}},[a("el-table-column",{attrs:{prop:"UNIT_NAME",label:"地市",align:"center","min-width":"16%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"MARKET_NAME",label:"备件类别",align:"center","min-width":"16%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"TYPE_NAME",label:"采购数量",align:"center","min-width":"16%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"CAPACITY",label:"采购日期",align:"center","min-width":"18%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"START_TIME",label:"添加时间",align:"center","min-width":"18%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"STATUS",label:"负责人",align:"center","min-width":"18%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"USER",label:"生产厂商",align:"center","min-width":"18%"}}),e._v(" "),a("el-table-column",{attrs:{prop:"xing",label:"型号",align:"center","min-width":"18%"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"14%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"opr"},[a("div",{staticClass:"operate",on:{click:function(a){e.deleteRow(t.row)}}},[e._v("完成计划")])])]}}])})],1),e._v(" "),a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":e.pagesizes,"page-size":e.pagesize,layout:" prev, pager, next, jumper, sizes,total",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},staticRenderFns:[]};var l=a("VU/8")(n,i,!1,function(e){a("qANG")},"data-v-066ffbe2",null);t.default=l.exports},qANG:function(e,t,a){var n=a("xlyL");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("d91c2980",n,!0)},xDZV:function(e,t,a){var n=a("y0v/");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("48620edf",n,!0)},xlyL:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.opr[data-v-066ffbe2] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: space-evenly;\n      -ms-flex-pack: space-evenly;\n          justify-content: space-evenly;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.opr .operate[data-v-066ffbe2] {\n    color: #1ba799;\n    cursor: pointer;\n}\n",""])},"y0v/":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.demandForecast .unitForm {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.demandForecast .unitForm .el-form-item {\n    width: 20%;\n}\n.demandForecast .unitForm .el-form-item .el-form-item__label {\n      width: auto;\n}\n.demandForecast .unitForm .el-form-item .el-form-item__content {\n      margin-left: 10px !important;\n      width: 60%;\n}\n.demandForecast .unitForm .el-form-item .el-form-item__content .el-date-editor {\n        width: 100%;\n}\n.demandForecast .unitForm .el-form-item .el-form-item__content .el-date-editor .el-input__icon {\n          color: #15a193;\n}\n.demandForecast .echarts {\n  height: 40vh;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.demandForecast .echarts .bar {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    height: 100%;\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;\n}\n.demandForecast h3 {\n  margin-bottom: 10px;\n}\n",""])}});