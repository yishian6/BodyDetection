webpackJsonp([6,46],{"+fW9":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/* @import url(); 引入公共css类 */\r\n/* .dialog >>> .el-dialog {\r\n    height: v-bind(height) !important;\r\n  } */\n.dialog[data-v-28f0e6f6] .el-dialog {\r\n    max-height: 77%;\n}\n#form[data-v-28f0e6f6] {\r\n    padding: 0 70px;\n}\n#form[data-v-28f0e6f6] .el-form-item__label {\r\n    width: 30% !important;\n}\n.el-form-item[data-v-28f0e6f6] {\r\n    width: 100%;\r\n    -webkit-box-align: start !important;\r\n        -ms-flex-align: start !important;\r\n            align-items: flex-start !important;\n}\n#form[data-v-28f0e6f6] .el-form-item__content {\r\n    margin-left: 10px !important;\r\n    width: 90% !important;\n}\r\n",""])},"7KZJ":function(t,e,n){var a=n("A/gL");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("5f00c478",a,!0)},"7V+F":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},"8Bn9":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i=n("bOdI"),s=n.n(i),r=n("BO1k"),o=n.n(r),l=n("t4zo"),c=n.n(l),d=n("uXZL"),u={name:"unitManagement",components:{tableFirst:n("hW8g").default},data:function(){return{form:{dictType:"",dictLabel:"",status:""},tableData:[],searchTableData:[],TableHeight:0,tableRadio:"",currentPage:1,pagesize:10,pagesizes:[2,5,10,20,50,100],total:0,rowData:{},openDialog:!1,muticalSelectData:[],options:[],statusArr:[],title:""}},created:function(){this.rowData=this.$route.params.data,this.statusFun(),this.dictTypeFun();var t=this;document.onkeydown=function(e){13==window.event.keyCode&&t.onSearch()}},mounted:function(){var t=this,e=document.documentElement.clientHeight||document.bodyclientHeight;this.$nextTick(function(){t.TableHeight=e-t.$refs.formDiv.offsetHeight-t.$refs.toolbar.offsetHeight-175})},methods:(a={clickChange:function(t){this.tableRadio=t},handleSizeChange:function(t){this.pagesize=t},handleCurrentChange:function(t){this.currentPage=t},handleSelectionChange:function(t){this.selectionData=t},getData:function(t){var e=this,n={dictType:t||this.form.dictType,dictLabel:this.form.dictLabel,status:this.form.status};this.$http({url:this.$http.adornUrl("/system/dict/data/list"),method:"post",params:this.$http.adornParams(n)}).then(function(t){if(0==t.data.code){var n=t.data.rows;e.searchTableData=n,e.total=n.length}})},onSearch:function(){this.getData()},resetForm:function(t){this.$refs[t].resetFields()}},s()(a,"handleSelectionChange",function(t){this.muticalSelectData=t}),s()(a,"dictTypeFun",function(){var t=this;this.$http({url:this.$http.adornUrl("/system/dict/detail/"+this.rowData.dictId),method:"get",params:this.$http.adornParams({})}).then(function(e){if(200==e.status){var n=e.data.dictList;t.options=n,t.form.dictType=e.data.dict.dictType,t.getData(e.data.dict.dictType)}})}),s()(a,"statusFun",function(){var t=this;this.$http({url:this.$http.adornUrl("/tool/dict/getType"),method:"get",params:this.$http.adornParams({type:"sys_normal_disable"})}).then(function(e){if(e.data.length){var n=e.data;t.statusArr=n}})}),s()(a,"addRow",function(t){var e=this;this.openDialog=!0,this.isDetail=!1,this.title="添加数据",this.$nextTick(function(){e.$refs.testDialog.addFun(e.form.dictType,"add")})}),s()(a,"editSelect",function(t){var e=this;1==t.length?(e.openDialog=!0,e.isDetail=!1,e.title="修改数据",e.$nextTick(function(){e.$refs.testDialog.editFun(t[0],"edit")})):this.$message({message:"请选择一条数据",type:"warning"})}),s()(a,"deleteSelect",function(t){var e=this;if(t){var n=t.length,a=[],i=!0,s=!1,r=void 0;try{for(var l,c=o()(t);!(i=(l=c.next()).done);i=!0){var d=l.value;a.push(d.dictCode)}}catch(t){s=!0,r=t}finally{try{!i&&c.return&&c.return()}finally{if(s)throw r}}this.$confirm("确认删除"+n+"行数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http({url:e.$http.adornUrl("/system/dict/data/remove"),method:"POST",params:e.$http.adornParams({ids:a.join(",")})}).then(function(t){0==t.data.code?(e.$message({type:"success",message:t.data.msg}),setTimeout(function(){e.getData()},1e3)):e.$message({message:t.data.msg,type:"error"})}).catch(function(t){})}).catch(function(){})}else this.$message({message:"请选择行！",type:"warning"})}),s()(a,"exportExcel",function(){var t=this,e=this.$loading({lock:!0,text:"导出中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout(function(){e.close();var n=d.utils.table_to_book(document.querySelector("#table"),{raw:!0}),a=d.write(n,{bookType:"xlsx",bookSST:!0,type:"array"});try{c.a.saveAs(new Blob([a],{type:"application/octet-stream"}),t.$route.meta.title+".xlsx")}catch(t){"undefined"!=typeof console&&console.log(t,a)}return a},2e3)}),s()(a,"editRow",function(t){var e=this;this.openDialog=!0,this.isDetail=!1,this.title="修改岗位",this.$nextTick(function(){e.$refs.testDialog.editFun(t,"edit")})}),s()(a,"deleteRow",function(t){var e=this;t?this.$confirm("确认删除该行数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http({url:e.$http.adornUrl("/system/dict/data/remove"),method:"POST",params:e.$http.adornParams({ids:t.dictCode})}).then(function(t){0==t.data.code&&(e.$message({type:"success",message:t.data.msg}),setTimeout(function(){e.getData()},1e3))}).catch(function(t){})}).catch(function(){}):this.$message({message:"请选择行！",type:"warning"})}),a)},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"userContainer"},[n("div",{staticClass:"recipientsApply"},[n("div",{ref:"formDiv"},[n("el-form",{ref:"form",staticClass:"unitForm",attrs:{model:t.form,id:"form"}},[n("el-form-item",{attrs:{label:"字典名称:",prop:"dictType"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.dictType,callback:function(e){t.$set(t.form,"dictType",e)},expression:"form.dictType"}},t._l(t.options,function(t,e){return n("el-option",{key:e,attrs:{label:t.dictName,value:t.dictType}})}))],1),t._v(" "),n("el-form-item",{attrs:{label:"字典标签:",prop:"dictLabel"}},[n("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:t.form.dictLabel,callback:function(e){t.$set(t.form,"dictLabel",e)},expression:"form.dictLabel"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"数据状态:",prop:"status"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.statusArr,function(t,e){return n("el-option",{key:e,attrs:{label:t.dictLabel,value:t.dictValue}})}))],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),n("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(e){t.resetForm("form")}}},[t._v("重置")])],1)],1)],1),t._v(" "),n("div",{staticClass:"table"},[n("div",{ref:"toolbar",staticClass:"toolbar"},[n("el-row",{staticClass:"btnGroup"},[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.addRow(null)}}},[t._v("新增")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.editSelect(t.muticalSelectData)}}},[t._v(" 修改 ")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.deleteSelect(t.muticalSelectData)}}},[t._v(" 删除 ")]),t._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.exportExcel}},[t._v(" 导出 ")])],1)],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.searchTableData.slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize),id:"table",stripe:"","header-row-style":{height:"35px"},"row-style":{height:"35px"},height:t.TableHeight},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",align:"center","min-width":"4%"}}),t._v(" "),n("el-table-column",{attrs:{prop:"dictCode",label:"字典编码","class-name":"menuName",align:"center","min-width":"14%"}}),t._v(" "),n("el-table-column",{attrs:{prop:"dictLabel",label:"字典标签",align:"center","min-width":"14%"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",{attrs:{type:""}},[t._v(t._s(e.row.dictLabel))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"dictValue",label:"字典键值",align:"center","min-width":"14%"}}),t._v(" "),n("el-table-column",{attrs:{prop:"dictSort",label:"字典排序",sortable:"",align:"center","min-width":"14%"}}),t._v(" "),n("el-table-column",{attrs:{prop:"status",label:"状态",align:"center","min-width":"12%"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==e.row.status?n("div",[n("el-tag",{attrs:{type:""}},[t._v("正常")])],1):t._e(),t._v(" "),"1"==e.row.status?n("div",[n("el-tag",{attrs:{type:"danger",effect:"dark"}},[t._v("异常")])],1):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"remark",label:"备注",sortable:"",align:"center","min-width":"14%"}}),t._v(" "),n("el-table-column",{attrs:{prop:"createTime",label:"创建时间",sortable:"",align:"center","min-width":"14%"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center","min-width":"14%"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"opr"},[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(n){t.editRow(e.row)}}},[t._v("\n                                编辑\n                            ")]),t._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-delete",size:"small"},on:{click:function(n){t.deleteRow(e.row)}}},[t._v("\n                                删除\n                            ")])],1)]}}])})],1),t._v(" "),n("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-sizes":t.pagesizes,"page-size":t.pagesize,layout:" prev, pager, next, jumper, sizes,total",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),n("div",{staticClass:"dialog"},[t.openDialog?n("tableFirst",{ref:"testDialog",attrs:{title:t.title,width:"70%"}}):t._e()],1)])])},staticRenderFns:[]};var f=n("VU/8")(u,m,!1,function(t){n("jFo2"),n("7KZJ")},"data-v-d404b2ec",null);e.default=f.exports},"A/gL":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.userContainer[data-v-d404b2ec] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.userContainer .recipientsApply[data-v-d404b2ec] {\n    width: 100%;\n}\n.userContainer .recipientsApply .unitForm[data-v-d404b2ec] {\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      -ms-flex-wrap: wrap;\n          flex-wrap: wrap;\n}\n.userContainer .recipientsApply .unitForm .el-form-item[data-v-d404b2ec] {\n        width: 25%;\n}\n.toolbar[data-v-d404b2ec] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: space-evenly;\n      -ms-flex-pack: space-evenly;\n          justify-content: space-evenly;\n  padding-bottom: 15px;\n}\n.toolbar .btnGroup[data-v-d404b2ec] {\n    width: 100%;\n}\n.opr[data-v-d404b2ec] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: space-evenly;\n      -ms-flex-pack: space-evenly;\n          justify-content: space-evenly;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.opr .operate[data-v-d404b2ec] {\n    color: #1ba799;\n    cursor: pointer;\n}\n",""])},hW8g:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={components:{},props:["title","width","isDetail"],data:function(){return{open:!1,form:{dictCode:"",dictLabel:"",dictValue:"",dictType:"",cssClass:"",dictSort:"",listClass:"",isDefault:"Y",status:"0",remark:""},rules:{dictLabel:[{required:!0,message:"字典标签不能为空",trigger:"blur"}],dictValue:[{required:!0,message:"字典键值不能为空",trigger:"blur"}],dictSort:[{required:!0,message:"字典排序不能为空",trigger:"blur"}]},status:"",isDefaultArr:[],statusArr:[]}},computed:{},watch:{},methods:{addFun:function(t,e){var n=this;this.open=!0,this.status=e,this.form.dictType=t,this.$nextTick(function(){n.$refs.form.resetFields()})},editFun:function(t,e){var n=this;this.open=!0,this.status=e,this.$nextTick(function(){n.$refs.form.resetFields(),t&&n.$http({url:n.$http.adornUrl("/system/dict/data/edit/"+t.dictCode),method:"get",params:n.$http.adornParams({})}).then(function(t){if(t.data.dict){var e=t.data.dict;n.form.dictCode=e.dictCode,n.form.dictLabel=e.dictLabel,n.form.dictValue=e.dictValue,n.form.dictType=e.dictType,n.form.cssClass=e.cssClass,n.form.dictSort=e.dictSort,n.form.listClass=e.listClass,n.form.isDefault=e.isDefault,n.form.status=e.status,n.form.remark=e.remark}})})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var n={dictLabel:e.form.dictLabel,dictValue:e.form.dictValue,dictType:e.form.dictType,cssClass:e.form.cssClass,dictSort:e.form.dictSort,listClass:e.form.listClass,isDefault:e.form.isDefault,status:e.form.status,remark:e.form.remark};"edit"==e.status&&(n.dictCode=e.form.dictCode),e.$http({url:e.$http.adornUrl("/system/dict/data/"+e.status),method:"post",params:e.$http.adornParams(n)}).then(function(t){0==t.data.code?(e.$message({message:t.data.msg,type:"success"}),setTimeout(function(){e.open=!1,e.$parent.openDialog=!1,e.$parent.getData()},1e3)):e.$message({message:t.data.msg,type:"error"})})})},isDefaultFun:function(){var t=this;this.$http({url:this.$http.adornUrl("/tool/dict/getType"),method:"GET",params:this.$http.adornParams({type:"sys_yes_no"})}).then(function(e){t.isDefaultArr=e.data})},statusFun:function(){var t=this;this.$http({url:this.$http.adornUrl("/tool/dict/getType"),method:"GET",params:this.$http.adornParams({type:"sys_normal_disable"})}).then(function(e){t.statusArr=e.data})}},created:function(){},mounted:function(){this.isDefaultFun(),this.statusFun()},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dialogDiv"},[n("el-dialog",{staticClass:"dialog",attrs:{title:t.title,visible:t.open,width:t.width,"close-on-click-modal":!1,"append-to-body":"","lock-scroll":!1},on:{"update:visible":function(e){t.open=e},"destroy-on-close":!0}},[n("el-form",{ref:"form",staticClass:"demo-form",attrs:{model:t.form,rules:t.rules,id:"form"}},[n("el-form-item",{staticClass:"form-item",attrs:{label:"字典标签:",prop:"dictLabel"}},[n("el-input",{model:{value:t.form.dictLabel,callback:function(e){t.$set(t.form,"dictLabel",e)},expression:"form.dictLabel"}})],1),t._v(" "),n("el-form-item",{staticClass:"form-item",attrs:{label:"字典键值:",prop:"dictValue"}},[n("el-input",{model:{value:t.form.dictValue,callback:function(e){t.$set(t.form,"dictValue",e)},expression:"form.dictValue"}})],1),t._v(" "),n("el-form-item",{staticClass:"form-item",attrs:{label:"字典类型:",prop:"dictType"}},[n("el-input",{attrs:{disabled:!0},model:{value:t.form.dictType,callback:function(e){t.$set(t.form,"dictType",e)},expression:"form.dictType"}})],1),t._v(" "),n("el-form-item",{staticClass:"form-item",attrs:{label:"样式属性:",prop:"cssClass"}},[n("el-input",{model:{value:t.form.cssClass,callback:function(e){t.$set(t.form,"cssClass",e)},expression:"form.cssClass"}})],1),t._v(" "),n("el-form-item",{staticClass:"form-item",attrs:{label:"字典排序:",prop:"dictSort"}},[n("el-input",{model:{value:t.form.dictSort,callback:function(e){t.$set(t.form,"dictSort",e)},expression:"form.dictSort"}})],1),t._v(" "),n("el-form-item",{staticClass:"form-item",attrs:{label:"回显样式:",prop:"listClass"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.listClass,callback:function(e){t.$set(t.form,"listClass",e)},expression:"form.listClass"}},[n("el-option",{attrs:{label:"默认",value:"default"}}),t._v(" "),n("el-option",{attrs:{label:"主要",value:"primary"}}),t._v(" "),n("el-option",{attrs:{label:"成功",value:"success"}}),t._v(" "),n("el-option",{attrs:{label:"信息",value:"info"}}),t._v(" "),n("el-option",{attrs:{label:"警告",value:"warning"}}),t._v(" "),n("el-option",{attrs:{label:"危险",value:"danger"}})],1)],1),t._v(" "),n("el-form-item",{staticClass:"form-item",attrs:{label:"系统默认:",prop:"isDefault"}},[t._l(t.isDefaultArr,function(e,a){return n("el-radio",{key:a,attrs:{label:e.dictValue},model:{value:t.form.isDefault,callback:function(e){t.$set(t.form,"isDefault",e)},expression:"form.isDefault"}},[t._v(t._s(e.dictLabel))])})],2),t._v(" "),n("el-form-item",{staticClass:"form-item",attrs:{label:"状态:",prop:"status"}},[t._l(t.statusArr,function(e,a){return n("el-radio",{key:a,attrs:{label:e.dictValue},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[t._v("\n                        "+t._s(e.dictLabel))])})],2),t._v(" "),n("el-form-item",{staticClass:"form-item",attrs:{label:"备注:",prop:"remark"}},[n("el-input",{attrs:{type:"textarea"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),t._v(" "),t.isDetail?t._e():n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.open=!1}}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("form")}}},[t._v("保存")])],1)],1)],1)},staticRenderFns:[]};var s=n("VU/8")(a,i,!1,function(t){n("kedP")},"data-v-28f0e6f6",null);e.default=s.exports},jFo2:function(t,e,n){var a=n("7V+F");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("79e36f60",a,!0)},kedP:function(t,e,n){var a=n("+fW9");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("823c2ec6",a,!0)}});