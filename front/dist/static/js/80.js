webpackJsonp([80],{"+Xef":function(e,t,n){var a=n("qpmc");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("rjj0")("4600b9d6",a,!0)},"+hGE":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"fileConvert",data:function(){return{form:{method:""},methodOptions:[{label:"yolo预训练模型",value:"yolo预训练模型"},{label:"热成像预训练模型",value:"热成像预训练模型"},{label:"红外预训练模型",value:"红外预训练模型"},{label:"融合预训练模型",value:"融合预训练模型"}],isUploaded:!1,srcImageUrl:"",desImageUrl:"",imageName:"",fileList:[],showDelActions:!1,showDownActions:!1,isDehaze:!1,process_time:0}},methods:{dehaze:function(){var e=this;""!=this.form.method?""!=this.imageName?(this.isDehaze=!1,this.$http.post(this.baseurl+"/detect/images",{image_id:this.imageName,method:this.form.method},{}).then(function(t){200===t.data.code?(e.$message.success("识别成功！"),e.desImageUrl=e.baseurl+t.data.file_path,e.process_time=t.data.process_time,e.process_time=e.process_time.toFixed(4),e.isDehaze=!0):e.$message.error("上传并识别失败！")}).catch(function(t){e.$message.error("上传并识别失败！")})):this.$message.error("请先上传图片！"):this.$message.error("请先选择模型！")},handleSuccess:function(e,t){this.isUploaded=!0,this.fileList=[t],this.imageName=e.image_id,this.srcImageUrl=this.baseurl+e.file_path},handleRemove:function(e){this.fileList=[],this.isUploaded=!1},downloadPic:function(e){var t=this,n=this.desImageUrl.split("/"),a={filetype:n[n.length-2],filename:n[n.length-1]};this.$http.get(this.baseurl+"/download?filetype="+a.filetype+"&filename="+a.filename,{responseType:"blob"}).then(function(e){if(200!==e.status)throw new Error("图片下载失败");var n=window.URL.createObjectURL(new Blob([e.data])),i=document.createElement("a");i.href=n,i.download=a.filename,document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(n),t.$message.success("图片下载成功")}).catch(function(e){console.error("下载失败:",e)})}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("div",{staticClass:"title"},[e._v("图像人体识别")]),e._v(" "),n("div",{staticClass:"subtitle"},[e._v("提供多种 YOLO 模型，实现高效精准的人体识别，提升图像分析的多样性与准确性")]),e._v(" "),n("el-form",{ref:"form",staticClass:"unitForm",attrs:{model:e.form,id:"form"}},[n("el-form-item",{attrs:{label:"识别模型:"}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.method,callback:function(t){e.$set(e.form,"method",t)},expression:"form.method"}},e._l(e.methodOptions,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-view"},on:{click:e.dehaze}},[e._v("识别")])],1)],1),e._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"left"},[e.isUploaded?n("div",{staticClass:"image-container",on:{mouseenter:function(t){e.showDelActions=!0},mouseleave:function(t){e.showDelActions=!1}}},[n("el-image",{staticClass:"uploaded-image",attrs:{src:e.srcImageUrl,"preview-src-list":[e.srcImageUrl]}}),e._v(" "),e.showDelActions?n("div",{staticClass:"image-actions"},[n("span",{staticClass:"action-item",on:{click:e.handleRemove}},[n("i",{staticClass:"el-icon-delete"})])]):e._e()],1):n("el-upload",{staticClass:"upload",attrs:{drag:"",action:e.baseurl+"/upload/image","auto-upload":!0,accept:".jpg, .png, .jpeg","file-list":e.fileList,"show-file-list":!1,"on-success":e.handleSuccess}},[n("i",{staticClass:"el-icon-upload"}),e._v(" "),n("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),n("em",[e._v("点击上传")])]),e._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件")])])],1),e._v(" "),n("div",{staticClass:"right"},[e.isDehaze?n("div",{staticClass:"image-container",on:{mouseenter:function(t){e.showDownActions=!0},mouseleave:function(t){e.showDownActions=!1}}},[n("el-image",{staticClass:"uploaded-image",attrs:{src:e.desImageUrl,"preview-src-list":[e.desImageUrl]}}),e._v(" "),e.showDownActions?n("div",{staticClass:"image-actions"},[n("span",{staticClass:"action-item",on:{click:e.downloadPic}},[n("i",{staticClass:"el-icon-download"})])]):e._e()],1):n("el-empty",{staticStyle:{margin:"0 auto"}})],1)]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isDehaze,expression:"isDehaze"}],staticStyle:{display:"flex","justify-content":"right","margin-right":"4%","margin-top":"1%"}},[e._v("识别耗时："+e._s(e.process_time)+" s")])],1)},staticRenderFns:[]};var s=n("VU/8")(a,i,!1,function(e){n("+Xef")},"data-v-19458b88",null);t.default=s.exports},qpmc:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,'\n@charset "UTF-8";\n.app[data-v-19458b88] {\n  height: 80vh;\n  color: #000000;\n  margin: 0 auto;\n  width: 96%;\n  background-color: #fff;\n  border-radius: 8px;\n}\n.app .title[data-v-19458b88] {\n    font-size: 32px;\n    text-align: center;\n    font-weight: bold;\n    color: #333;\n    padding: 2% 0;\n}\n.app .subtitle[data-v-19458b88] {\n    font-size: 16px;\n    text-align: center;\n    color: #666;\n    margin-bottom: 30px;\n}\n.app .unitForm[data-v-19458b88] {\n    margin: 1% auto;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-pack: distribute;\n        justify-content: space-around;\n}\n.app .content[data-v-19458b88] {\n    height: 60%;\n    width: 96%;\n    margin: 0 auto;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-pack: distribute;\n        justify-content: space-around;\n}\n.app .content .left[data-v-19458b88] {\n      width: 48%;\n      height: 100%;\n      background-color: #eae9e9;\n      border-radius: 8px;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      /* 水平居中 */\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      /* 垂直居中 */\n}\n.app .content .left .upload[data-v-19458b88] {\n        margin-left: 16%;\n        color: black;\n}\n.app .content .left .srcImg[data-v-19458b88] {\n        width: 94%;\n        /* 图片最大宽度不超过容器宽度 */\n        height: auto;\n        /* 高度自适应 */\n        margin: 0 auto;\n}\n.app .content .left .image-container[data-v-19458b88] {\n        position: relative;\n        display: inline-block;\n}\n.app .content .left .uploaded-image[data-v-19458b88] {\n        max-width: 96%;\n        height: auto;\n        display: block;\n        margin: 0 auto;\n        border-radius: 6px;\n}\n.app .content .left .image-actions[data-v-19458b88] {\n        position: absolute;\n        bottom: 2.2%;\n        right: 2.2%;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n}\n.app .content .left .action-item[data-v-19458b88] {\n        cursor: pointer;\n        margin-left: 10px;\n        background-color: rgba(0, 0, 0, 0.5);\n        color: white;\n        padding: 5px;\n        border-radius: 5px;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n}\n.app .content .left .action-item[data-v-19458b88]:hover {\n        background-color: rgba(253, 0, 0, 0.7);\n}\n.app .content .right[data-v-19458b88] {\n      width: 48%;\n      height: 100%;\n      background-color: #eae9e9;\n      border-radius: 8px;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      /* 水平居中 */\n      -webkit-box-align: center;\n          -ms-flex-align: center;\n              align-items: center;\n      /* 垂直居中 */\n}\n.app .content .right .image-container[data-v-19458b88] {\n        position: relative;\n        display: inline-block;\n}\n.app .content .right .uploaded-image[data-v-19458b88] {\n        max-width: 96%;\n        height: auto;\n        display: block;\n        margin: 0 auto;\n        border-radius: 6px;\n}\n.app .content .right .image-actions[data-v-19458b88] {\n        position: absolute;\n        bottom: 2.2%;\n        right: 2.2%;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n}\n.app .content .right .action-item[data-v-19458b88] {\n        cursor: pointer;\n        margin-left: 10px;\n        background-color: rgba(0, 0, 0, 0.5);\n        color: white;\n        padding: 5px;\n        border-radius: 5px;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n}\n.app .content .right .action-item[data-v-19458b88]:hover {\n        background-color: rgba(0, 253, 59, 0.7);\n}\n',""])}});